<!-- Copyright 2024 ZigIDE and contributors. Use of this source code is governed by the Apache 2.0 license. -->
<idea-plugin>
  <id>zigzen.ide</id>
  <name>ZigZen</name>
  <vendor>ZigIDE</vendor>

  <depends>zigzen.zig</depends>
  <depends>zigzen.zon</depends>

  <actions>
    <group id="WelcomeScreen.Platform.NewProject">
      <group id="WelcomeScreen.CreateDirectoryProject"
              class="zigzen.ide.util.projectWizard.ZigZenNewProjectStep"
              text="New Project"/>
      <reference ref="WelcomeScreen.OpenDirectoryProject"/>
      <add-to-group group-id="WelcomeScreen.QuickStart" anchor="first"/>
    </group>

    <group id="PlatformOpenProjectGroup">
      <group id="NewElementMenu" class="com.intellij.ide.actions.NewActionGroup" popup="true" text="_New"/>
      <add-to-group group-id="FileOpenGroup" anchor="first"/>
    </group>

    <action id="NewProject" class="zigzen.ide.actions.ZigZenNewProjectAction" text="Project...">
      <override-text place="ProjectWidgetPopup"/>
      <add-to-group group-id="NewProjectOrModuleGroup"/>
      <add-to-group group-id="ProjectWidget.Actions"/>
    </action>
    <action id="ProjectFromVersionControl"
            class="com.intellij.openapi.wm.impl.welcomeScreen.ProjectFromVersionControlAction"
            text="Project from Version Control...">
      <override-text place="ProjectWidgetPopup"/>
      <add-to-group group-id="NewProjectOrModuleGroup"/>
      <add-to-group group-id="ProjectWidget.Actions"/>
    </action>

    <action class="zigzen.ide.actions.ZigCreateFileFromTemplateAction"
            id="NewZigFile">
      <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
    </action>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
    <aboutPopupDescriptionProvider implementation="zigzen.ide.ZigZenAboutPopupDescriptionProvider"/>
    <directoryProjectGenerator implementation="zigzen.platform.ZigDirectoryProjectGenerator"/>
  </extensions>
</idea-plugin>
